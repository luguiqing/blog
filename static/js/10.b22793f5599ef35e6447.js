webpackJsonp([10],{"6mJW":function(e,t,a){(e.exports=a("UTlt")(!0)).push([e.i,"\n.omsUserArticleList_container[data-v-3e817210] {\n  position: relative;\n  box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  width: 100%;\n  padding: 20px;\n  background-color: #fff;\n}\n.warn_icon[data-v-3e817210] {\n  display: inline-block;\n  color: #ff9900;\n  font-size: 24px;\n  vertical-align: middle;\n}\n.model_conten[data-v-3e817210] {\n  display: inline-block;\n  margin-left: 10px;\n}\n","",{version:3,sources:["/home/travis/build/luguiqing/blog/src/pages/omsAllUserList.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,uBAAuB;EACvB,+BAA+B;EAC/B,4BAA4B;EAC5B,YAAY;EACZ,cAAc;EACd,uBAAuB;CACxB;AACD;EACE,sBAAsB;EACtB,eAAe;EACf,gBAAgB;EAChB,uBAAuB;CACxB;AACD;EACE,sBAAsB;EACtB,kBAAkB;CACnB",file:"omsAllUserList.vue",sourcesContent:["\n.omsUserArticleList_container[data-v-3e817210] {\n  position: relative;\n  box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  width: 100%;\n  padding: 20px;\n  background-color: #fff;\n}\n.warn_icon[data-v-3e817210] {\n  display: inline-block;\n  color: #ff9900;\n  font-size: 24px;\n  vertical-align: middle;\n}\n.model_conten[data-v-3e817210] {\n  display: inline-block;\n  margin-left: 10px;\n}\n"],sourceRoot:""}])},XRll:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("VKKs");var s=a("nls0"),n=a("oFuF"),o={components:{myTable:s.a},beforeMount:function(){var e=this;this.$ajax({method:"post",url:"/Interface/getUserList",data:{userId:this.userInfo._id}}).then(function(t){switch(e.loading=!1,t.data.retcode){case 0:t.data.retdata.forEach(function(e,t){e.createDate&&(e.createDate=n.a.formatDate(e.createDate)),e.updateDate&&(e.updateDate=n.a.formatDate(e.updateDate))}),e.totalData=t.data.retdata;break;default:e.$Message.error(t.data.retmsg)}})},data:function(){var e=this;return{searchList:[{name:"用户",value:"userName"},{name:"注册时间",value:"createDate"}],filter:function(e,t,a){switch(t){case"userName":case"createDate":return e[t].indexOf(a)>-1}},loading:!0,totalData:[],columns:[{title:"Id",key:"_id",sortable:!0},{title:"用户",key:"userName",ellipsis:!0},{title:"注册时间",key:"createDate",ellipsis:!0},{title:"操作",key:"action",render:function(t,a){var s=a.row;return t("div",{props:{color:"#333"}},[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.userId=s._id,e.modalClickType="controlStatus",e.modalStatus=!0,e.userName=s.userName,e.userStatus=s.status}}},"1"==s.status?"冻结":"解冻"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.userId=s._id,e.modalClickType="deleteUser",e.modalStatus=!0,e.userName=s.userName}}},"删除")])}}],modalStatus:!1,modalClickType:"",userId:null,userName:"",userStatus:"2"}},methods:{confirmModal:function(){var e=this,t="1"==this.userStatus?"2":"1";switch(e.modalClickType){case"controlStatus":this.$ajax({method:"post",url:"/Interface/changeUserStatus",data:{adminId:this.userInfo._id,userId:this.userId,status:t}}).then(function(a){switch(a.data.retcode){case 0:e.$Message.success(a.data.retmsg),e.totalData.forEach(function(a,s){a._id===e.userId&&e.$set(a,"status",t)});break;default:e.$Message.error(a.data.retmsg)}});break;case"deleteUser":this.$ajax({method:"post",url:"/Interface/forceDeleteUser",data:{adminId:this.userInfo._id,userId:this.userId}}).then(function(t){switch(t.data.retcode){case 0:e.$Message.success(t.data.retmsg),e.totalData.forEach(function(t,a){t._id===e.userId&&e.totalData.splice(a,1)});break;default:e.$Message.error(t.data.retmsg)}})}}},computed:{isLogin:function(){return this.$store.getters.isLogin},userInfo:function(){return this.$store.getters.userInfo}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"omsUserArticleList_container"},[a("myTable",{attrs:{searchList:e.searchList,columns:e.columns,totalData:e.totalData,filter:e.filter,loading:e.loading,pageSize:10}}),e._v(" "),a("Modal",{attrs:{title:"操作"},on:{"on-ok":e.confirmModal},model:{value:e.modalStatus,callback:function(t){e.modalStatus=t},expression:"modalStatus"}},[a("Icon",{staticClass:"warn_icon",attrs:{type:"ios-information"}}),e._v(" "),"deleteUser"==e.modalClickType?a("p",{staticClass:"model_conten"},[e._v('确定删除用户"'+e._s(e.userName)+'"?')]):e._e(),e._v(" "),"controlStatus"==e.modalClickType?a("p",{staticClass:"model_conten"},[e._v("确定"+e._s("1"==e.userStatus?"冻结":"解冻")+"用户“"+e._s(e.userName)+"”?")]):e._e()],1)],1)},staticRenderFns:[]};var i=a("C7Lr")(o,r,!1,function(e){a("og8D")},"data-v-3e817210",null);t.default=i.exports},og8D:function(e,t,a){var s=a("6mJW");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("FIqI")("88ea74a4",s,!0,{})}});
//# sourceMappingURL=10.b22793f5599ef35e6447.js.map