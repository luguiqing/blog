{"version":3,"sources":["webpack:///./src/pages/omsAllUserList.vue?e70e","webpack:///./src/pages/omsAllUserList.vue?00ec","webpack:///src/pages/omsAllUserList.vue","webpack:///./src/pages/omsAllUserList.vue?c80f","webpack:///./src/pages/omsAllUserList.vue"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","content","locals","omsAllUserList","components","myTable","beforeMount","self","this","$ajax","method","url","data","userId","userInfo","_id","then","result","loading","retcode","retdata","forEach","item","index","createDate","util","formatDate","updateDate","totalData","$Message","error","retmsg","searchList","name","value","filter","searchType","searchValue","indexOf","columns","title","key","sortable","ellipsis","render","h","params","row","props","color","type","size","style","marginRight","on","click","modalClickType","modalStatus","userName","userStatus","status","methods","confirmModal","adminId","success","$set","splice","computed","isLogin","$store","getters","pages_omsAllUserList","_vm","_h","$createElement","_c","_self","staticClass","attrs","pageSize","_v","on-ok","model","callback","$$v","expression","_s","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.a3210a3027aee355a219.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.omsUserArticleList_container[data-v-3e817210] {\\n  position: relative;\\n  box-sizing: border-box;\\n  -webkit-box-sizing: border-box;\\n  -moz-box-sizing: border-box;\\n  width: 100%;\\n  padding: 20px;\\n  background-color: #fff;\\n}\\n.warn_icon[data-v-3e817210] {\\n  display: inline-block;\\n  color: #ff9900;\\n  font-size: 24px;\\n  vertical-align: middle;\\n}\\n.model_conten[data-v-3e817210] {\\n  display: inline-block;\\n  margin-left: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/luguiqing/work/self/blog/src/pages/omsAllUserList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;EACnB,uBAAuB;EACvB,+BAA+B;EAC/B,4BAA4B;EAC5B,YAAY;EACZ,cAAc;EACd,uBAAuB;CACxB;AACD;EACE,sBAAsB;EACtB,eAAe;EACf,gBAAgB;EAChB,uBAAuB;CACxB;AACD;EACE,sBAAsB;EACtB,kBAAkB;CACnB\",\"file\":\"omsAllUserList.vue\",\"sourcesContent\":[\"\\n.omsUserArticleList_container[data-v-3e817210] {\\n  position: relative;\\n  box-sizing: border-box;\\n  -webkit-box-sizing: border-box;\\n  -moz-box-sizing: border-box;\\n  width: 100%;\\n  padding: 20px;\\n  background-color: #fff;\\n}\\n.warn_icon[data-v-3e817210] {\\n  display: inline-block;\\n  color: #ff9900;\\n  font-size: 24px;\\n  vertical-align: middle;\\n}\\n.model_conten[data-v-3e817210] {\\n  display: inline-block;\\n  margin-left: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3e817210\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/omsAllUserList.vue\n// module id = 5N0e\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3e817210\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./omsAllUserList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1fe67fa4\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3e817210\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/omsAllUserList.vue\n// module id = QFew\n// module chunks = 10","<style scoped lang=\"scss\">\n.omsUserArticleList_container{\n    position: relative;\n    box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    width: 100%;\n    padding: 20px;\n    background-color: #fff;\n}\n.warn_icon{\n    display: inline-block;\n    color: #ff9900;\n    font-size: 24px;\n    vertical-align: middle;\n}\n.model_conten{\n    display: inline-block;\n    margin-left: 10px;\n}\n</style>\n<template>\n<div class=\"omsUserArticleList_container\">\n    <myTable :searchList=\"searchList\" :columns=\"columns\" :totalData=\"totalData\" :filter=\"filter\" :loading=\"loading\" :pageSize=\"10\"></myTable>\n    <Modal\n        v-model=\"modalStatus\"\n        title=\"操作\"\n        @on-ok=\"confirmModal\">\n        <Icon type=\"ios-information\" class=\"warn_icon\"></Icon>\n        <p v-if=\"modalClickType == 'deleteUser'\" class=\"model_conten\">确定删除用户\"{{userName}}\"?</p>\n        <p v-if=\"modalClickType == 'controlStatus'\" class=\"model_conten\">确定{{userStatus == '1' ? '冻结' : '解冻'}}用户“{{userName}}”?</p>\n    </Modal>\n</div>\n</template>\n<script>\nimport Storage from \"../utils/storage\"\nimport myTable from '../components/myTable.vue'\nimport Util from '../utils/util'\n\nexport default {\n    components: {\n        myTable : myTable\n    },\n    beforeMount() {\n        let self = this;\n\n        this.$ajax({\n            method  : 'post',\n            url     : '/Interface/getUserList',\n            data    :  {\n                userId  :   this.userInfo._id\n            }\n        }).then( result => {\n            self.loading = false;\n            switch(result.data.retcode){\n                case 0:\n                    //console.log(result.data)\n                    result.data.retdata.forEach( (item, index) => {\n                        if(item.createDate){\n                            item.createDate = Util.formatDate(item.createDate);\n                        }\n                        if(item.updateDate){\n                            item.updateDate = Util.formatDate(item.updateDate)\n                        }\n                    });\n                    self.totalData = result.data.retdata;\n                    break;\n                default:\n                    self.$Message.error(result.data.retmsg);\n                    break;\n            }\n        })\n    },\n    data(){\n        let self = this;\n        return {\n            //table -- props\n            searchList: [\n                {\n                    name :  \"用户\",\n                    value:  \"userName\"\n                },\n                {\n                    name :  \"注册时间\",\n                    value:  \"createDate\"\n                }\n            ],\n            filter: function(data, searchType, searchValue){\n                switch(searchType){\n                    case 'userName':\n                        return data[searchType].indexOf(searchValue) > -1 ? true : false;\n                        break;\n                    case 'createDate':\n                        return data[searchType].indexOf(searchValue) > -1 ? true : false;\n                        break;\n                }\n            },\n            loading: true,//数据加载中\n            totalData: [],\n            columns: [\n                {\n                    title: 'Id',\n                    key: '_id',\n                    sortable: true\n                },\n                {\n                    title: '用户',\n                    key: 'userName',\n                    ellipsis: true\n                },\n                {\n                    title: '注册时间',\n                    key: 'createDate',\n                    ellipsis: true\n                },\n                {\n                    title: '操作',\n                    key: 'action',\n                    render: (h, params) => {\n                        const row =params.row\n                        return h('div', {\n                            props: {\n                                color: '#333'\n                            }\n                        }, [\n                            h('Button', {\n                                props: {\n                                    type: 'primary',\n                                    size: 'small'\n                                },\n                                style:{\n                                    marginRight: '5px'\n                                },\n                                on: {\n                                    click: function(){\n                                        self.userId = row['_id'];\n                                        self.modalClickType = \"controlStatus\";\n                                        self.modalStatus = true;\n                                        self.userName = row['userName'];\n                                        self.userStatus = row['status'];\n                                    }\n                                }\n                            }, (row.status == '1' ? '冻结' : '解冻')),\n                            h('Button', {\n                                props: {\n                                    type: 'error',\n                                    size: 'small'\n                                },\n                                on: {\n                                    click: function(){\n                                        self.userId = row['_id'];\n                                        self.modalClickType = \"deleteUser\"\n                                        self.modalStatus = true;\n                                        self.userName = row['userName'];\n                                    }\n                                }\n                            }, '删除')\n                        ]);\n\n                    }\n                }\n            ],\n            modalStatus: false,\n            modalClickType: '',\n            userId: null,\n            userName: '',\n            userStatus: '2',//1为正常，2为冻结\n        }\n    },\n    methods: {\n        confirmModal(){\n            let self = this;\n            let status = this.userStatus == '1' ?  '2' : '1';\n            switch(self.modalClickType){\n                case 'controlStatus':\n                   this.$ajax({\n                        method  : 'post',\n                        url     : '/Interface/changeUserStatus',\n                        data    :  {\n                            adminId    :   this.userInfo._id,\n                            userId     :   this.userId,\n                            status     :   status\n                        }\n                    }).then( result => {\n                        switch(result.data.retcode){\n                            case 0:\n                                self.$Message.success(result.data.retmsg);\n                                self.totalData.forEach((item, index) => {\n                                    if(item._id === self.userId){\n                                        self.$set(item, 'status', status)\n                                    }\n                                })\n                                break;\n                            default:\n                                self.$Message.error(result.data.retmsg);\n                                break;\n                        }\n                    })\n                break;\n                case 'deleteUser':\n                    this.$ajax({\n                        method  : 'post',\n                        url     : '/Interface/forceDeleteUser',\n                        data    :  {\n                            adminId     :   this.userInfo._id,\n                            userId      :   this.userId\n                        }\n                    }).then( result => {\n                        switch(result.data.retcode){\n                            case 0:\n                                self.$Message.success(result.data.retmsg);\n                                self.totalData.forEach((item, index) => {\n                                    if(item._id === self.userId){\n                                        self.totalData.splice(index,1);\n                                    }\n                                })\n                                break;\n                            default:\n                                self.$Message.error(result.data.retmsg);\n                                break;\n                        }\n                    })\n                    break;\n\n            }\n        }\n    },\n    computed: {\n        isLogin(){\n            return this.$store.getters.isLogin\n        },\n        userInfo(){\n            return this.$store.getters.userInfo\n        }\n    }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/omsAllUserList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"omsUserArticleList_container\"},[_c('myTable',{attrs:{\"searchList\":_vm.searchList,\"columns\":_vm.columns,\"totalData\":_vm.totalData,\"filter\":_vm.filter,\"loading\":_vm.loading,\"pageSize\":10}}),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"操作\"},on:{\"on-ok\":_vm.confirmModal},model:{value:(_vm.modalStatus),callback:function ($$v) {_vm.modalStatus=$$v},expression:\"modalStatus\"}},[_c('Icon',{staticClass:\"warn_icon\",attrs:{\"type\":\"ios-information\"}}),_vm._v(\" \"),(_vm.modalClickType == 'deleteUser')?_c('p',{staticClass:\"model_conten\"},[_vm._v(\"确定删除用户\\\"\"+_vm._s(_vm.userName)+\"\\\"?\")]):_vm._e(),_vm._v(\" \"),(_vm.modalClickType == 'controlStatus')?_c('p',{staticClass:\"model_conten\"},[_vm._v(\"确定\"+_vm._s(_vm.userStatus == '1' ? '冻结' : '解冻')+\"用户“\"+_vm._s(_vm.userName)+\"”?\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e817210\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/omsAllUserList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3e817210\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./omsAllUserList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./omsAllUserList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./omsAllUserList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e817210\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./omsAllUserList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3e817210\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/omsAllUserList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}