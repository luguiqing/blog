webpackJsonp([7],{"/kp7":function(t,e,a){var i=a("eZZh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("6088d796",i,!0,{})},"7p5B":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("1tcn"),n=a("Xt6H"),r={components:{noResult:i.a,Article:n.a},beforeMount:function(){this.userInfo?(this.breadcrumb=this.userInfo.userName+"的博客",this.getArticleListByPageAndId()):this.getHotArticleList()},data:function(){return{articleList:[],breadcrumb:"热门博客",pageSize:5,page:0,loading:!1,hasMore:!0}},methods:{getHotArticleList:function(){var t=this;this.page+=1,this.$ajax({method:"post",url:"/Interface/getHotArticleList",data:{pageSize:this.pageSize,page:this.page}}).then(function(e){switch(t.loading=!1,e.data.retcode){case 0:e.data.retdata.length<t.pageSize&&(t.hasMore=!1),t.articleList=t.articleList.concat(e.data.retdata);break;default:t.$Message.error(e.data.retmsg)}})},getArticleListByPageAndId:function(){var t=this;this.page+=1,this.$ajax({method:"post",url:"/Interface/getArticleListByPageAndId",data:{pageSize:this.pageSize,page:this.page,userId:this.userInfo._id}}).then(function(e){switch(t.loading=!1,e.data.retcode){case 0:e.data.retdata.length<t.pageSize&&(t.hasMore=!1),t.articleList=t.articleList.concat(e.data.retdata);break;default:t.$Message.error(e.data.retmsg)}})},loadMore:function(){this.loading=!0,this.userInfo?this.getArticleListByPageAndId():this.getHotArticleList()}},computed:{isLogin:function(){return this.$store.getters.isLogin},userInfo:function(){return this.$store.getters.userInfo}},watch:{isLogin:function(t,e){t?(this.breadcrumb=this.userInfo.userName+"的博客",this.hasMore=!0,this.page=0,this.articleList=[],this.getArticleListByPageAndId()):(this.breadcrumb="热门博客",this.hasMore=!0,this.page=0,this.articleList=[],this.getHotArticleList())}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard_container"},[a("p",{staticClass:"breadcrumb"},[t._v(t._s(t.breadcrumb))]),t._v(" "),0===t.articleList.length?a("noResult",{attrs:{imgSrc:"noArticle",title:"没有文章",des:t.isLogin?"别偷懒啦，赶紧写几篇博客来看看！":"暂时没有热门博客推荐"}}):t._e(),t._v(" "),t._l(t.articleList,function(t,e){return a("Article",{key:e,attrs:{article:t}})}),t._v(" "),a("div",{staticClass:"loadMore"},[t.hasMore?a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:t.loadMore}},[t.loading?a("span",[t._v("加载中...")]):a("span",[t._v("加载更多")])]):t._e()],1)],2)},staticRenderFns:[]};var o=a("Z0/y")(r,s,!1,function(t){a("/kp7")},"data-v-6d5a10e8",null);e.default=o.exports},eZZh:function(t,e,a){(t.exports=a("XLS9")(!0)).push([t.i,"\n.dashboard_container[data-v-6d5a10e8] {\n  position: relative;\n}\n.dashboard_container .breadcrumb[data-v-6d5a10e8] {\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    color: #999;\n}\n.dashboard_container .loadMore[data-v-6d5a10e8] {\n    text-align: center;\n    margin-top: 30px;\n}\n","",{version:3,sources:["G:/projects/vue-cli-demo/gqBlog/src/pages/articleList.vue"],names:[],mappings:";AACA;EACE,mBAAmB;CACpB;AACD;IACI,aAAa;IACb,kBAAkB;IAClB,gBAAgB;IAChB,YAAY;CACf;AACD;IACI,mBAAmB;IACnB,iBAAiB;CACpB",file:"articleList.vue",sourcesContent:["\n.dashboard_container[data-v-6d5a10e8] {\n  position: relative;\n}\n.dashboard_container .breadcrumb[data-v-6d5a10e8] {\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    color: #999;\n}\n.dashboard_container .loadMore[data-v-6d5a10e8] {\n    text-align: center;\n    margin-top: 30px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=7.51ae142fb72c85760f24.js.map