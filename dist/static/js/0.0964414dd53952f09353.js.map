{"version":3,"sources":["webpack:///./node_modules/_core-js@2.5.3@core-js/library/fn/array/concat.js","webpack:///src/components/myTable.vue","webpack:///./src/components/myTable.vue?f72e","webpack:///./src/components/myTable.vue","webpack:///./src/utils/util.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/array/concat.js"],"names":["module","exports","Function","call","apply","Array","prototype","concat","arguments","myTable","Number","Boolean","index","arrSlice","end","start","pageSize","_this","this","searchValue","totalData","newVal","components_myTable","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","on","on-enter","search","on-click","model","value","callback","$$v","expression","staticStyle","width","slot","searchType","_l","item","key","_v","_s","name","_e","data","tableData","columns","loading","stripe","total","searchData","length","show-total","page-size","current","currentPage","on-change","changePage","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","date","year","month","day","hour","minute","second","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","map","formatNumber","join","num","toString","default","__esModule"],"mappings":"qCACAA,EAAAC,QAAA,WACA,OAAAC,SAAAC,KAAAC,MAAAC,MAAAC,UAAAC,OAAAC,6FCsCAC,QAEA,iCAWAJ,qDAMAA,2CAKAH,uBAEAG,eAEA,kBAEAK,eAEA,kBAEAC,iBAGA,uCAGA,cACA,4BAEA,mGAOA,yDAMAC,aAEAC,0DACAC,uCAUAC,0BAJA,QACAC,SAMAF,WALAE,6BAOA,IAAAC,EAAAC,kJAIAC,+BAIA,wBAEA,yDAIAC,2BACA,mEAMA,iDAKA,YACAP,kDAEAQ,kDACAP,SC7IAQ,GADiBC,OAFjB,WAA0B,IAAAC,EAAAN,KAAaO,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BL,EAAA,UAAAG,EAAA,OAA4BE,YAAA,oBAA8BF,EAAA,SAAcE,YAAA,eAAAC,OAAkCC,KAAA,cAAoBC,IAAKC,WAAAT,EAAAU,OAAAC,WAAAX,EAAAU,QAA4CE,OAAQC,MAAAb,EAAA,YAAAc,SAAA,SAAAC,GAAiDf,EAAAL,YAAAoB,GAAoBC,WAAA,iBAA2Bb,EAAA,UAAec,aAAaC,MAAA,QAAeZ,OAAQa,KAAA,WAAiBA,KAAA,UAAAP,OAAuBC,MAAAb,EAAA,WAAAc,SAAA,SAAAC,GAAgDf,EAAAoB,WAAAL,GAAmBC,WAAA,eAA0BhB,EAAAqB,GAAArB,EAAA,oBAAAsB,EAAAlC,GAA8C,OAAAe,EAAA,UAAoBoB,IAAAnC,EAAAkB,OAAiBO,MAAAS,EAAAT,SAAoBb,EAAAwB,GAAAxB,EAAAyB,GAAAH,EAAAI,aAA8B,OAAA1B,EAAA2B,KAAA3B,EAAAwB,GAAA,KAAArB,EAAA,OAA0CE,YAAA,UAAoBF,EAAA,SAAcG,OAAOsB,KAAA5B,EAAA6B,UAAAC,QAAA9B,EAAA8B,QAAAC,QAAA/B,EAAA+B,QAAAC,OAAA,OAA8E,GAAAhC,EAAAwB,GAAA,KAAArB,EAAA,OAA4BE,YAAA,oBAA8BF,EAAA,QAAaE,YAAA,OAAAC,OAA0B2B,MAAAjC,EAAAkC,WAAAC,OAAAC,aAAA,GAAAC,YAAArC,EAAAR,SAAA8C,QAAAtC,EAAAuC,aAAiG/B,IAAKgC,YAAAxC,EAAAyC,eAA4B,MAE/kCC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA5D,EACAa,GATA,EAVA,SAAAgD,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,EAAAJ,EAAA,mLCzBmBK,GAEjB,IAAIC,SAAMC,SAAOC,SAAKC,SAAMC,SAAQC,SAQpC,OAPAL,GAFAD,EAAO,IAAIO,KAAKP,IAEJQ,cACZN,EAAQF,EAAKS,WAAa,EAC1BN,EAAMH,EAAKU,UACXN,EAAOJ,EAAKW,WACZN,EAASL,EAAKY,aACdN,EAASN,EAAKa,cAENZ,EAAMC,EAAOC,GAAKW,IAAIC,GAAcC,KAAK,KAAO,KAAOZ,EAAMC,EAAQC,GAAQQ,IAAIC,GAAcC,KAAK,cAI9G,SAASD,EAAaE,GAErB,OADAA,EAAMA,EAAIC,YACC,GAAKD,EAAM,IAAIA,gCCjB3BzF,EAAAC,SAAkB0F,QAAAvB,EAAA,QAAAwB,YAAA","file":"static/js/0.0964414dd53952f09353.js","sourcesContent":["// for a legacy code and future fixes\nmodule.exports = function () {\n  return Function.call.apply(Array.prototype.concat, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.5.3@core-js/library/fn/array/concat.js\n// module id = hOt0\n// module chunks = 0","<style scoped lang=\"scss\">\r\n.table_container{\r\n    position: relative;\r\n    .header{\r\n        text-align: right;\r\n        .search_input{\r\n            width: 300px;\r\n            float: right;\r\n        }\r\n    }\r\n    .table{\r\n        margin-top: 30px;\r\n    }\r\n    .footer{\r\n        margin-top: 20px;\r\n        .page{\r\n            float: right;\r\n        }\r\n    }\r\n}\r\n</style>\r\n<template>\r\n<div class=\"table_container\">\r\n    <div class=\"header clearfix\" v-if=\"hasSearch\">\r\n        <Input v-model=\"searchValue\" icon=\"ios-search\" class=\"search_input\" @on-enter=\"search\" @on-click=\"search\">\r\n            <Select v-model=\"searchType\" slot=\"prepend\" style=\"width: 80px\">\r\n                <Option v-for=\"(item, index) in searchList\" :value=\"item.value\" :key=\"index\">{{item.name}}</Option>\r\n            </Select>\r\n        </Input>\r\n    </div>\r\n    <div class=\"table\">\r\n        <Table :data=\"tableData\" :columns=\"columns\" :loading=\"loading\" stripe></Table>\r\n    </div>\r\n    <div class=\"footer clearfix\">\r\n        <Page :total=\"searchData.length\" show-total class=\"page\" :page-size=\"pageSize\" @on-change=\"changePage\" :current=\"currentPage\"></Page>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n    name: 'myTable',\r\n    /*\r\n    *@param     totalData     全部数据\r\n    *@param     searchList    头部筛选框数组\r\n    *@param     columns       自定义表格配置\r\n    *@param     pageSize      每页数据量\r\n    *@param     loading       显示加载中\r\n    *@param     filter（item, searchType, searchValue）     头部筛选框函数，返回Boolean\r\n    */\r\n    props: {\r\n        totalData: {\r\n            type: Array,\r\n            default: () => {\r\n                return []\r\n            }\r\n        },\r\n        searchList: {\r\n            type: Array,\r\n            default: () => {\r\n                return []\r\n            }\r\n        },\r\n        filter: Function,\r\n        columns: {\r\n            type: Array,\r\n            require: true\r\n        },\r\n        pageSize: {\r\n            type: Number,\r\n            default: 10\r\n        },\r\n        loading: {//table加载中\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n    data(){\r\n        return {\r\n            searchValue: '',\r\n            searchType: '',\r\n            tableData: [],//用于分页显示\r\n            currentPage: 1,\r\n            searchData: [],//用于存储筛选的全部数据\r\n        }\r\n    },\r\n    mounted(){\r\n        let self = this;\r\n        if(this.searchList.length > 0){\r\n            this.searchType = this.searchList[0]['value'];\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        changePage(index){\r\n            this.currentPage = index;\r\n            let sliceNum = this.arrSlice();\r\n\r\n            this.tableData = this.searchData.slice(sliceNum.start, sliceNum.end);\r\n        },\r\n        //裁剪工具\r\n        arrSlice(){\r\n            let start, end, index;\r\n            index = this.currentPage - 1;\r\n\r\n            start = index * this.pageSize;\r\n            end = start + this.pageSize;\r\n            return {\r\n                start,\r\n                end\r\n            }\r\n\r\n        },\r\n        search(){\r\n            if(this.searchValue.length > 0){\r\n                if(typeof this.filter === 'function'){\r\n                    this.searchData = this.totalData.filter(item => {\r\n                        return this.filter(item, this.searchType, this.searchValue);\r\n                    })\r\n                    //初始化数据\r\n                    this.changePage(1);\r\n\r\n                }else{\r\n                    this.$Message.error(\"没定义筛选函数！\")\r\n                }\r\n            }else{\r\n                this.searchData = [];\r\n                this.searchData = Array.concat(this.totalData);\r\n                this.changePage(1);\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        hasSearch(){\r\n            return this.searchList.length > 0;\r\n        }\r\n    },\r\n    watch: {\r\n        totalData(newVal, oldVal){\r\n            if(newVal.length > 0){\r\n                let sliceNum = this.arrSlice();\r\n                this.searchData = [];\r\n                this.searchData = Array.concat(newVal);\r\n                this.tableData = this.searchData.slice(sliceNum.start, sliceNum.end);\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/myTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table_container\"},[(_vm.hasSearch)?_c('div',{staticClass:\"header clearfix\"},[_c('Input',{staticClass:\"search_input\",attrs:{\"icon\":\"ios-search\"},on:{\"on-enter\":_vm.search,\"on-click\":_vm.search},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}},[_c('Select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"prepend\"},slot:\"prepend\",model:{value:(_vm.searchType),callback:function ($$v) {_vm.searchType=$$v},expression:\"searchType\"}},_vm._l((_vm.searchList),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}))],1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('Table',{attrs:{\"data\":_vm.tableData,\"columns\":_vm.columns,\"loading\":_vm.loading,\"stripe\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"footer clearfix\"},[_c('Page',{staticClass:\"page\",attrs:{\"total\":_vm.searchData.length,\"show-total\":\"\",\"page-size\":_vm.pageSize,\"current\":_vm.currentPage},on:{\"on-change\":_vm.changePage}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-caf69d58\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/myTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-caf69d58\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./myTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./myTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./myTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-caf69d58\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./myTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-caf69d58\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/myTable.vue\n// module id = null\n// module chunks = ","export default class {\r\n\tstatic formatDate(date) {\r\n\t\tdate = new Date(date);\r\n\t\tlet year, month, day, hour, minute, second;\r\n\t\tyear = date.getFullYear();\r\n\t\tmonth = date.getMonth() + 1;\r\n\t\tday = date.getDate();\r\n\t\thour = date.getHours();\r\n\t\tminute = date.getMinutes();\r\n\t\tsecond = date.getSeconds();\r\n\r\n\t\treturn [year, month, day].map(formatNumber).join('-') + ' ' + [hour, minute, second].map(formatNumber).join(':');\r\n\t}\r\n}\r\n\r\nfunction formatNumber(num){\r\n\tnum = num.toString();\r\n\treturn num[1] ? num : '0'+num;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js","module.exports = { \"default\": require(\"core-js/library/fn/array/concat\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/array/concat.js\n// module id = oi+F\n// module chunks = 0"],"sourceRoot":""}